{"version":3,"sources":["main.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","AppController","stateService","this","state","$inject",2,"TaskFormController","$scope","taskService","setTitle","vm","title","cancel","submit","newTaskForm","$valid","createTask","then",3,"TaskItemController","editing","statusUpdated","cancelEdit","edit","task","deleteTask","save","updateTask","toggleCompleted","completed",4,"Task","taskList","filter","STATUS_ACTIVE","STATUS_COMPLETED",5,"TaskListController","tasks","getTasks",6,"router","$stateProvider","$urlRouterProvider","abstract","name","views","controller","templateUrl","url","main@app","form@app.tasks","list@app.tasks","otherwise",7,"LOCAL_STORAGE_KEY","STORAGE_STRATEGY","BASE_URL","TASKS_URL",8,"StateService","$state","$stateParams","params","isActiveTasks","is","isCompletedTasks","isTasks","toActiveTasks","go","toCompletedTasks","toTasks",9,"LocalStorageStrategy","$q","$localStorage","storageConfig","putObject","key","service","getObject","resolve","unshift","splice","indexOf",10,"ServerStorageStrategy","$http","get","response","data","post","push","links","self","put",11,"TaskService","$injector","$log","info",12,13,"ESCAPE_KEY","restrict","link","scope","$element","attrs","on","event","keyCode","$apply","escape","$on","unbind",14,"$timeout","doFocus","focus","timeout","$watch",15,"app","angular","constant","factory","config","value","directive","element","document","ready","bootstrap","strictDi","./components/app/app-controller","./components/tasks/task-form/task-form-controller","./components/tasks/task-item/task-item-controller","./components/tasks/task-item/task-status-filter","./components/tasks/task-list/task-list-controller","./config/router","./config/storage","./core/state/state-service","./core/task/local-storage-strategy","./core/task/server-storage-strategy","./core/task/task","./core/task/task-service","./directives/escape-directive","./directives/focus-directive"],"mappings":"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","file":"main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = AppController;\n\nAppController.$inject = [\n  'StateService'\n];\n\n\n/**\n * @name AppController\n * @constructor\n * @param {StateService} stateService\n */\nfunction AppController(stateService) {\n  this.state = stateService;\n}\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = TaskFormController;\n\nTaskFormController.$inject = [\n  '$scope',\n  'TaskService'\n];\n\n\n/**\n * @name TaskFormController\n * @constructor\n * @param $scope\n * @param {TaskService} taskService\n */\nfunction TaskFormController($scope, taskService) {\n  var vm = this;\n\n  function setTitle() {\n    vm.title = '';\n  }\n\n  setTitle();\n\n  vm.cancel = function() {\n    setTitle();\n  };\n\n  vm.submit = function() {\n    if ($scope.newTaskForm.$valid) {\n      taskService\n        .createTask(vm.title)\n        .then(function(){\n          setTitle();\n        });\n    }\n  };\n}\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = TaskItemController;\n\nTaskItemController.$inject = [\n  '$scope',\n  'TaskService'\n];\n\n\n/**\n * @name TaskItemController\n * @constructor\n * @param $scope\n * @param {TaskService} taskService\n */\nfunction TaskItemController($scope, taskService) {\n  var vm = this;\n\n  vm.editing = false;\n  vm.statusUpdated = false;\n\n  vm.cancelEdit = function() {\n    vm.editing = false;\n  };\n\n  vm.edit = function() {\n    vm.title = $scope.task.title;\n    vm.editing = true;\n  };\n\n  vm.delete = function() {\n    taskService.deleteTask($scope.task);\n  };\n\n  vm.save = function() {\n    if (vm.editing) {\n      if ($scope.task.title !== vm.title) {\n        $scope.task.title = vm.title;\n        taskService.updateTask($scope.task);\n      }\n      vm.editing = false;\n    }\n  };\n\n  vm.toggleCompleted = function() {\n    $scope.task.completed = !$scope.task.completed;\n    taskService.updateTask($scope.task);\n    vm.statusUpdated = $scope.task.completed;\n  };\n}\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = ['Task', function(Task) {\n  return function(taskList, filter) {\n    var completed;\n\n    if (filter === Task.STATUS_ACTIVE) {\n      completed = false;\n    }\n    else if (filter === Task.STATUS_COMPLETED) {\n      completed = true;\n    }\n    else {\n      return taskList;\n    }\n\n    return taskList.filter(function(task){\n      return task.completed === completed;\n    });\n  };\n}];\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = TaskListController;\n\nTaskListController.$inject = [\n  'TaskService'\n];\n\n\n/**\n * @name TaskListController\n * @constructor\n * @param {TaskService} taskService\n */\nfunction TaskListController(taskService) {\n  var vm = this;\n\n  vm.tasks = [];\n\n  taskService.getTasks().then(function(tasks){\n    vm.tasks = tasks;\n  });\n}\n\n},{}],6:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = router;\n\nrouter.$inject = [\n  '$stateProvider',\n  '$urlRouterProvider'\n];\n\n\nfunction router($stateProvider, $urlRouterProvider) {\n  $stateProvider\n    .state({\n      abstract: true,\n      name: 'app',\n      views: {\n        '': {\n          controller: 'AppController as app',\n          templateUrl: 'app/app.html'\n        }\n      }\n    })\n\n    .state({\n      name: 'app.tasks',\n      url: '/tasks?filter',\n      views: {\n        'main@app': {\n          templateUrl: 'tasks/tasks.html'\n        },\n\n        'form@app.tasks': {\n          controller: 'TaskFormController as taskForm',\n          templateUrl: 'tasks/task-form/task-form.html'\n        },\n\n        'list@app.tasks': {\n          controller: 'TaskListController as taskList',\n          templateUrl: 'tasks/task-list/task-list.html'\n        }\n      }\n    });\n\n\n  $urlRouterProvider.otherwise('/tasks');\n}\n\n},{}],7:[function(require,module,exports){\nexports.LOCAL_STORAGE_KEY = 'TODO-APP';\n\n// LocalStorageStrategy | ServerStorageStrategy\nexports.STORAGE_STRATEGY = 'LocalStorageStrategy';\n\nexports.BASE_URL = 'http://localhost:8000';\n\nexports.TASKS_URL = exports.BASE_URL + '/tasks';\n\n},{}],8:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = StateService;\n\nStateService.$inject = [\n  '$state',\n  '$stateParams',\n  'Task'\n];\n\n\n/**\n * @name StateService\n *\n * @param $state\n * @param $stateParams\n * @param Task\n *\n * @returns {{\n *   params: Object,\n *   isActiveTasks: Function,\n *   isCompletedTasks: Function,\n *   isTasks: Function,\n *   toActiveTasks: Function,\n *   toCompletedTasks: Function,\n *   toTasks: Function\n * }}\n */\nfunction StateService($state, $stateParams, Task) {\n  return {\n    /**\n     * @type {Object}\n     */\n    params: $stateParams,\n\n    /**\n     * @returns {boolean}\n     */\n    isActiveTasks: function() {\n      return $state.is('app.tasks', {filter: Task.STATUS_ACTIVE});\n    },\n\n    /**\n     * @returns {boolean}\n     */\n    isCompletedTasks: function() {\n      return $state.is('app.tasks', {filter: Task.STATUS_COMPLETED});\n    },\n\n    /**\n     * @returns {boolean}\n     */\n    isTasks: function() {\n      return $state.is('app.tasks', {filter: ''});\n    },\n\n    /**\n     * @async\n     * @returns $state.current\n     */\n    toActiveTasks: function() {\n      return $state.go('app.tasks', {filter: Task.STATUS_ACTIVE});\n    },\n\n    /**\n     * @async\n     * @returns $state.current\n     */\n    toCompletedTasks: function() {\n      return $state.go('app.tasks', {filter: Task.STATUS_COMPLETED});\n    },\n\n    /**\n     * @async\n     * @returns $state.current\n     */\n    toTasks: function() {\n      return $state.go('app.tasks');\n    }\n  };\n}\n\n},{}],9:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = LocalStorageStrategy;\n\nLocalStorageStrategy.$inject = [\n  '$q',\n  '$localStorage',\n  'storageConfig',\n  'Task'\n];\n\n\n/**\n * @name LocalStorageStrategy\n *\n * @param $q\n * @param $localStorage\n * @param storageConfig\n * @param Task\n *\n * @returns {{\n *   tasks: Array,\n *   getTasks: Function,\n *   createTask: Function,\n *   deleteTask: Function,\n *   updateTask: Function\n * }}\n */\nfunction LocalStorageStrategy($q, $localStorage, storageConfig, Task) {\n  var key = storageConfig.LOCAL_STORAGE_KEY;\n\n\n  var service = {\n    /**\n     * @type Array\n     */\n    tasks: [],\n\n    /**\n     * @async\n     * @returns {Array}\n     */\n    getTasks: function() {\n      service.tasks = $localStorage.getObject(key) || [];\n      return $q.resolve(service.tasks);\n    },\n\n    /**\n     * @param {string} title\n     * @async\n     * @returns {Task}\n     */\n    createTask: function(title) {\n      var task = new Task(title);\n      service.tasks.unshift(task);\n      save();\n      return $q.resolve(task);\n    },\n\n    /**\n     * @param {Task} task\n     * @async\n     * @returns {ITask}\n     */\n    deleteTask: function(task) {\n      service.tasks.splice(service.tasks.indexOf(task), 1);\n      save();\n      return $q.resolve(task);\n    },\n\n    /**\n     * @param {ITask} task\n     * @async\n     * @returns {ITask}\n     */\n    updateTask: function(task) {\n      save();\n      return $q.resolve(task);\n    }\n  };\n\n\n  function save() {\n    $localStorage.putObject(key, service.tasks);\n  }\n\n\n  return service;\n}\n\n},{}],10:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = ServerStorageStrategy;\n\nServerStorageStrategy.$inject = [\n  '$http',\n  'storageConfig',\n  'Task'\n];\n\n\n/**\n * @name ServerStorageStrategy\n *\n * @param $http\n * @param storageConfig\n * @param Task\n *\n * @returns {{\n *   tasks: Array,\n *   getTasks: Function,\n *   createTask: Function,\n *   deleteTask: Function,\n *   updateTask: Function\n * }}\n */\nfunction ServerStorageStrategy($http, storageConfig, Task) {\n  var service = {\n    /**\n     * @type Array\n     */\n    tasks: [],\n\n    /**\n     * @async\n     * @returns {Array}\n     */\n    getTasks: function() {\n      return $http\n        .get(storageConfig.TASKS_URL)\n        .then(function(response){\n          return service.tasks = response.data || [];\n        });\n    },\n\n    /**\n     * @param {string} title\n     * @async\n     * @returns {ITask}\n     */\n    createTask: function(title) {\n      var task = new Task(title);\n      return $http\n        .post(storageConfig.TASKS_URL, task)\n        .then(function(response){\n          service.tasks.push(response.data);\n          return response.data;\n        });\n    },\n\n    /**\n     * @param {ITask} task\n     * @async\n     * @returns {ITask}\n     */\n    deleteTask: function(task) {\n      service.tasks.splice(service.tasks.indexOf(task), 1);\n      return $http\n        .delete(storageConfig.BASE_URL + task.links.self)\n        .then(function(){\n          return task;\n        });\n    },\n\n    /**\n     * @param {ITask} task\n     * @async\n     * @returns {ITask}\n     */\n    updateTask: function(task) {\n      return $http\n        .put(storageConfig.BASE_URL + task.links.self, task)\n        .then(function(){\n          return task;\n        });\n    }\n  };\n\n\n  return service;\n}\n\n},{}],11:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = TaskService;\n\nTaskService.$inject = [\n  '$injector',\n  '$log',\n  'storageConfig'\n];\n\n\n/**\n * @name TaskService\n *\n * @param $injector\n * @param $log\n * @param storageConfig\n *\n * @returns {{\n *   tasks: Array,\n *   getTasks: Function,\n *   createTask: Function,\n *   deleteTask: Function,\n *   updateTask: Function\n * }}\n */\nfunction TaskService($injector, $log, storageConfig) {\n  $log.info('STORAGE_STRATEGY:', storageConfig.STORAGE_STRATEGY);\n  return $injector.get(storageConfig.STORAGE_STRATEGY);\n}\n\n},{}],12:[function(require,module,exports){\n'use strict';\n\n\n/**\n * @typedef {Object} ITask\n * @property {boolean} completed\n * @property {number}  createdAt\n * @property {string}  title\n */\n\n\nmodule.exports = Task;\n\n/**\n * @name Task\n * @constructor\n * @param {string} [title]\n */\nfunction Task(title) {\n  // @type boolean\n  this.completed = false;\n\n  // @type string\n  this.title = title || '';\n}\n\n/**\n * @const\n * @type {string}\n */\nTask.STATUS_ACTIVE = 'active';\n\n/**\n * @const\n * @type {string}\n */\nTask.STATUS_COMPLETED = 'completed';\n\n},{}],13:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = function(){\n  var ESCAPE_KEY = 27;\n\n  return {\n    restrict: 'A',\n\n    link: function(scope, $element, attrs) {\n      $element.on('keyup', function(event){\n        if (event.keyCode === ESCAPE_KEY) {\n          scope.$apply(attrs.escape);\n        }\n      });\n\n      scope.$on('$destroy', function(){\n        $element.unbind('keyup');\n      });\n    }\n  };\n};\n\n},{}],14:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = ['$timeout', function($timeout){\n  return {\n    restrict: 'A',\n\n    link: function(scope, $element, attrs) {\n      var timeout;\n\n      function doFocus() {\n        $element[0].focus();\n      }\n\n      scope.$watch(attrs.focus, function(focus){\n        if (timeout) $timeout.cancel(timeout);\n        if (focus) timeout = $timeout(doFocus);\n      });\n    }\n  };\n}];\n\n},{}],15:[function(require,module,exports){\n'use strict';\n\n\nvar app = angular\n\n  .module('app', [\n    'angular-storage',\n    'ngAria',\n    'ui.router',\n    'templates'\n  ])\n\n\n  /*===================================\n    Constants\n  -----------------------------------*/\n  .constant('storageConfig', require('./config/storage'))\n\n\n  /*===================================\n    State (ui-router)\n  -----------------------------------*/\n  .factory('StateService', require('./core/state/state-service'))\n  .config(require('./config/router'))\n\n\n  /*===================================\n    Task\n  -----------------------------------*/\n  .value('Task', require('./core/task/task'))\n  .factory('LocalStorageStrategy', require('./core/task/local-storage-strategy'))\n  .factory('ServerStorageStrategy', require('./core/task/server-storage-strategy'))\n  .factory('TaskService', require('./core/task/task-service'))\n\n\n  /*===================================\n    App component\n  -----------------------------------*/\n  .controller('AppController', require('./components/app/app-controller'))\n\n\n  /*===================================\n    TaskForm component\n  -----------------------------------*/\n  .controller('TaskFormController', require('./components/tasks/task-form/task-form-controller'))\n\n\n  /*===================================\n    TaskItem component\n  -----------------------------------*/\n  .controller('TaskItemController', require('./components/tasks/task-item/task-item-controller'))\n  .filter('taskStatus', require('./components/tasks/task-item/task-status-filter'))\n\n\n  /*===================================\n    TaskList component\n  -----------------------------------*/\n  .controller('TaskListController', require('./components/tasks/task-list/task-list-controller'))\n\n\n  /*===================================\n    Directives\n  -----------------------------------*/\n  .directive('escape', require('./directives/escape-directive'))\n  .directive('focus', require('./directives/focus-directive'));\n\n\n// Bootstrap\nangular.element(document).ready(function(){\n  angular.bootstrap(document, [app.name], {strictDi: true});\n});\n\n},{\"./components/app/app-controller\":1,\"./components/tasks/task-form/task-form-controller\":2,\"./components/tasks/task-item/task-item-controller\":3,\"./components/tasks/task-item/task-status-filter\":4,\"./components/tasks/task-list/task-list-controller\":5,\"./config/router\":6,\"./config/storage\":7,\"./core/state/state-service\":8,\"./core/task/local-storage-strategy\":9,\"./core/task/server-storage-strategy\":10,\"./core/task/task\":12,\"./core/task/task-service\":11,\"./directives/escape-directive\":13,\"./directives/focus-directive\":14}]},{},[15]);\n"],"sourceRoot":"/source/"}