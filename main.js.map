{"version":3,"sources":["main.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","AppController","stateService","this","state","$inject",2,"TaskFormController","$scope","taskService","setTitle","vm","title","cancel","submit","newTaskForm","$valid","createTask",3,"TaskItemController","editing","statusUpdated","cancelEdit","edit","task","deleteTask","save","titleForm","updateTask","toggleCompleted","completed",4,"Task","taskList","filter","STATUS_ACTIVE","STATUS_COMPLETED",5,"TaskListController","tasks","getTasks","then",6,"router","$stateProvider","$urlRouterProvider","abstract","name","views","","controller","templateUrl","url","main@app","form@app.tasks","list@app.tasks","otherwise",7,"LOCAL_STORAGE_KEY","STORAGE_STRATEGY","BASE_URL","TASKS_URL",8,"StateService","$state","$stateParams","params","isActiveTasks","is","isCompletedTasks","isTasks","toActiveTasks","go","toCompletedTasks","toTasks",9,"LocalStorageStrategy","$q","$localStorage","storageConfig","putObject","key","service","getObject","resolve","unshift","splice","indexOf",10,"ServerStorageStrategy","$http","get","response","data","post","push","links","self","put",11,"TaskService","$injector","$log","info",12,13,"ESCAPE_KEY","restrict","link","scope","$element","attrs","on","event","keyCode","$apply","escape","$on","unbind",14,"$timeout","doFocus","focus","timeout","$watch",15,"app","angular","constant","factory","config","value","directive","element","document","ready","bootstrap","strictDi","./components/app/app-controller","./components/tasks/task-form/task-form-controller","./components/tasks/task-item/task-item-controller","./components/tasks/task-item/task-status-filter","./components/tasks/task-list/task-list-controller","./config/router","./config/storage","./core/state/state-service","./core/task/local-storage-strategy","./core/task/server-storage-strategy","./core/task/task","./core/task/task-service","./directives/escape-directive","./directives/focus-directive"],"mappings":"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","file":"main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = AppController;\n\nAppController.$inject = [\n  'StateService'\n];\n\n\n/**\n * @name AppController\n * @constructor\n * @param {StateService} stateService\n */\nfunction AppController(stateService) {\n  this.state = stateService;\n}\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = TaskFormController;\n\nTaskFormController.$inject = [\n  '$scope',\n  'TaskService'\n];\n\n\n/**\n * @name TaskFormController\n * @constructor\n * @param $scope\n * @param {TaskService} taskService\n */\nfunction TaskFormController($scope, taskService) {\n  var vm = this;\n\n  function setTitle() {\n    vm.title = '';\n  }\n\n  setTitle();\n\n  vm.cancel = function() {\n    setTitle();\n  };\n\n  vm.submit = function() {\n    if ($scope.newTaskForm.$valid) {\n      taskService.createTask(vm.title);\n    }\n    setTitle();\n  };\n}\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = TaskItemController;\n\nTaskItemController.$inject = [\n  '$scope',\n  'TaskService'\n];\n\n\n/**\n * @name TaskItemController\n * @constructor\n * @param $scope\n * @param {TaskService} taskService\n */\nfunction TaskItemController($scope, taskService) {\n  var vm = this;\n\n  vm.editing = false;\n\n  vm.statusUpdated = false;\n\n  vm.cancelEdit = function() {\n    vm.editing = false;\n  };\n\n  vm.edit = function() {\n    vm.title = $scope.task.title;\n    vm.editing = true;\n  };\n\n  vm.delete = function() {\n    taskService.deleteTask($scope.task);\n  };\n\n  vm.save = function() {\n    if (vm.editing) {\n      if ($scope.titleForm.$valid && $scope.task.title !== vm.title) {\n        $scope.task.title = vm.title;\n        taskService.updateTask($scope.task);\n      }\n      vm.editing = false;\n    }\n  };\n\n  vm.toggleCompleted = function() {\n    $scope.task.completed = !$scope.task.completed;\n    taskService.updateTask($scope.task);\n    vm.statusUpdated = $scope.task.completed;\n  };\n}\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = ['Task', function(Task) {\n  return function(taskList, filter) {\n    var completed;\n\n    if (filter === Task.STATUS_ACTIVE) {\n      completed = false;\n    }\n    else if (filter === Task.STATUS_COMPLETED) {\n      completed = true;\n    }\n    else {\n      return taskList;\n    }\n\n    return taskList.filter(function(task){\n      return task.completed === completed;\n    });\n  };\n}];\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = TaskListController;\n\nTaskListController.$inject = [\n  'TaskService'\n];\n\n\n/**\n * @name TaskListController\n * @constructor\n * @param {TaskService} taskService\n */\nfunction TaskListController(taskService) {\n  var vm = this;\n\n  vm.tasks = [];\n\n  taskService.getTasks().then(function(tasks){\n    vm.tasks = tasks;\n  });\n}\n\n},{}],6:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = router;\n\nrouter.$inject = [\n  '$stateProvider',\n  '$urlRouterProvider'\n];\n\n\nfunction router($stateProvider, $urlRouterProvider) {\n  $stateProvider\n    .state({\n      abstract: true,\n      name: 'app',\n      views: {\n        '': {\n          controller: 'AppController as app',\n          templateUrl: 'app/app.html'\n        }\n      }\n    })\n\n    .state({\n      name: 'app.tasks',\n      url: '/tasks?filter',\n      views: {\n        'main@app': {\n          templateUrl: 'tasks/tasks.html'\n        },\n\n        'form@app.tasks': {\n          controller: 'TaskFormController as taskForm',\n          templateUrl: 'tasks/task-form/task-form.html'\n        },\n\n        'list@app.tasks': {\n          controller: 'TaskListController as taskList',\n          templateUrl: 'tasks/task-list/task-list.html'\n        }\n      }\n    });\n\n\n  $urlRouterProvider.otherwise('/tasks');\n}\n\n},{}],7:[function(require,module,exports){\nexports.LOCAL_STORAGE_KEY = 'TODO-APP';\n\n// LocalStorageStrategy | ServerStorageStrategy\nexports.STORAGE_STRATEGY = 'LocalStorageStrategy';\n\nexports.BASE_URL = 'http://localhost:8000';\n\nexports.TASKS_URL = exports.BASE_URL + '/tasks';\n\n},{}],8:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = StateService;\n\nStateService.$inject = [\n  '$state',\n  '$stateParams',\n  'Task'\n];\n\n\n/**\n * @name StateService\n *\n * @param $state\n * @param $stateParams\n * @param Task\n *\n * @returns {{\n *   params: Object,\n *   isActiveTasks: Function,\n *   isCompletedTasks: Function,\n *   isTasks: Function,\n *   toActiveTasks: Function,\n *   toCompletedTasks: Function,\n *   toTasks: Function\n * }}\n */\nfunction StateService($state, $stateParams, Task) {\n  return {\n    /**\n     * @type {Object}\n     */\n    params: $stateParams,\n\n    /**\n     * @returns {boolean}\n     */\n    isActiveTasks: function() {\n      return $state.is('app.tasks', {filter: Task.STATUS_ACTIVE});\n    },\n\n    /**\n     * @returns {boolean}\n     */\n    isCompletedTasks: function() {\n      return $state.is('app.tasks', {filter: Task.STATUS_COMPLETED});\n    },\n\n    /**\n     * @returns {boolean}\n     */\n    isTasks: function() {\n      return $state.is('app.tasks', {filter: ''});\n    },\n\n    /**\n     * @async\n     * @returns $state.current\n     */\n    toActiveTasks: function() {\n      return $state.go('app.tasks', {filter: Task.STATUS_ACTIVE});\n    },\n\n    /**\n     * @async\n     * @returns $state.current\n     */\n    toCompletedTasks: function() {\n      return $state.go('app.tasks', {filter: Task.STATUS_COMPLETED});\n    },\n\n    /**\n     * @async\n     * @returns $state.current\n     */\n    toTasks: function() {\n      return $state.go('app.tasks');\n    }\n  };\n}\n\n},{}],9:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = LocalStorageStrategy;\n\nLocalStorageStrategy.$inject = [\n  '$q',\n  '$localStorage',\n  'storageConfig',\n  'Task'\n];\n\n\n/**\n * @name LocalStorageStrategy\n *\n * @param $q\n * @param $localStorage\n * @param storageConfig\n * @param Task\n *\n * @returns {{\n *   tasks: Array,\n *   getTasks: Function,\n *   createTask: Function,\n *   deleteTask: Function,\n *   updateTask: Function\n * }}\n */\nfunction LocalStorageStrategy($q, $localStorage, storageConfig, Task) {\n  var key = storageConfig.LOCAL_STORAGE_KEY;\n\n\n  var service = {\n    /**\n     * @type Array\n     */\n    tasks: [],\n\n    /**\n     * @async\n     * @returns {Array}\n     */\n    getTasks: function() {\n      service.tasks = $localStorage.getObject(key) || [];\n      return $q.resolve(service.tasks);\n    },\n\n    /**\n     * @param {string} title\n     * @async\n     * @returns {Task}\n     */\n    createTask: function(title) {\n      var task = new Task(title);\n      service.tasks.unshift(task);\n      save();\n      return $q.resolve(task);\n    },\n\n    /**\n     * @param {Task} task\n     * @async\n     * @returns {ITask}\n     */\n    deleteTask: function(task) {\n      service.tasks.splice(service.tasks.indexOf(task), 1);\n      save();\n      return $q.resolve(task);\n    },\n\n    /**\n     * @param {ITask} task\n     * @async\n     * @returns {ITask}\n     */\n    updateTask: function(task) {\n      save();\n      return $q.resolve(task);\n    }\n  };\n\n\n  function save() {\n    $localStorage.putObject(key, service.tasks);\n  }\n\n\n  return service;\n}\n\n},{}],10:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = ServerStorageStrategy;\n\nServerStorageStrategy.$inject = [\n  '$http',\n  'storageConfig',\n  'Task'\n];\n\n\n/**\n * @name ServerStorageStrategy\n *\n * @param $http\n * @param storageConfig\n * @param Task\n *\n * @returns {{\n *   tasks: Array,\n *   getTasks: Function,\n *   createTask: Function,\n *   deleteTask: Function,\n *   updateTask: Function\n * }}\n */\nfunction ServerStorageStrategy($http, storageConfig, Task) {\n  var service = {\n    /**\n     * @type Array\n     */\n    tasks: [],\n\n    /**\n     * @async\n     * @returns {Array}\n     */\n    getTasks: function() {\n      return $http\n        .get(storageConfig.TASKS_URL)\n        .then(function(response){\n          return service.tasks = response.data || [];\n        });\n    },\n\n    /**\n     * @param {string} title\n     * @async\n     * @returns {ITask}\n     */\n    createTask: function(title) {\n      var task = new Task(title);\n      return $http\n        .post(storageConfig.TASKS_URL, task)\n        .then(function(response){\n          service.tasks.push(response.data);\n          return response.data;\n        });\n    },\n\n    /**\n     * @param {ITask} task\n     * @async\n     * @returns {ITask}\n     */\n    deleteTask: function(task) {\n      service.tasks.splice(service.tasks.indexOf(task), 1);\n      return $http\n        .delete(storageConfig.BASE_URL + task.links.self)\n        .then(function(){\n          return task;\n        });\n    },\n\n    /**\n     * @param {ITask} task\n     * @async\n     * @returns {ITask}\n     */\n    updateTask: function(task) {\n      return $http\n        .put(storageConfig.BASE_URL + task.links.self, task)\n        .then(function(){\n          return task;\n        });\n    }\n  };\n\n\n  return service;\n}\n\n},{}],11:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = TaskService;\n\nTaskService.$inject = [\n  '$injector',\n  '$log',\n  'storageConfig'\n];\n\n\n/**\n * @name TaskService\n *\n * @param $injector\n * @param $log\n * @param storageConfig\n *\n * @returns {{\n *   tasks: Array,\n *   getTasks: Function,\n *   createTask: Function,\n *   deleteTask: Function,\n *   updateTask: Function\n * }}\n */\nfunction TaskService($injector, $log, storageConfig) {\n  $log.info('STORAGE_STRATEGY:', storageConfig.STORAGE_STRATEGY);\n  return $injector.get(storageConfig.STORAGE_STRATEGY);\n}\n\n},{}],12:[function(require,module,exports){\n'use strict';\n\n\n/**\n * @typedef {Object} ITask\n * @property {boolean} completed\n * @property {number}  createdAt\n * @property {string}  title\n */\n\n\nmodule.exports = Task;\n\n/**\n * @name Task\n * @constructor\n * @param {string} [title]\n */\nfunction Task(title) {\n  // @type boolean\n  this.completed = false;\n\n  // @type string\n  this.title = title || '';\n}\n\n/**\n * @const\n * @type {string}\n */\nTask.STATUS_ACTIVE = 'active';\n\n/**\n * @const\n * @type {string}\n */\nTask.STATUS_COMPLETED = 'completed';\n\n},{}],13:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = function(){\n  var ESCAPE_KEY = 27;\n\n  return {\n    restrict: 'A',\n\n    link: function(scope, $element, attrs) {\n      $element.on('keyup', function(event){\n        if (event.keyCode === ESCAPE_KEY) {\n          scope.$apply(attrs.escape);\n        }\n      });\n\n      scope.$on('$destroy', function(){\n        $element.unbind('keyup');\n      });\n    }\n  };\n};\n\n},{}],14:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = ['$timeout', function($timeout){\n  return {\n    restrict: 'A',\n\n    link: function(scope, $element, attrs) {\n      var timeout;\n\n      function doFocus() {\n        $element[0].focus();\n      }\n\n      scope.$watch(attrs.focus, function(focus){\n        if (timeout) $timeout.cancel(timeout);\n        if (focus) timeout = $timeout(doFocus);\n      });\n    }\n  };\n}];\n\n},{}],15:[function(require,module,exports){\n'use strict';\n\n\nvar app = angular\n\n  .module('app', [\n    'angular-storage',\n    'ngAria',\n    'ui.router',\n    'templates'\n  ])\n\n\n  /*===================================\n    Constants\n  -----------------------------------*/\n  .constant('storageConfig', require('./config/storage'))\n\n\n  /*===================================\n    State (ui-router)\n  -----------------------------------*/\n  .factory('StateService', require('./core/state/state-service'))\n  .config(require('./config/router'))\n\n\n  /*===================================\n    Task\n  -----------------------------------*/\n  .value('Task', require('./core/task/task'))\n  .factory('LocalStorageStrategy', require('./core/task/local-storage-strategy'))\n  .factory('ServerStorageStrategy', require('./core/task/server-storage-strategy'))\n  .factory('TaskService', require('./core/task/task-service'))\n\n\n  /*===================================\n    App component\n  -----------------------------------*/\n  .controller('AppController', require('./components/app/app-controller'))\n\n\n  /*===================================\n    TaskForm component\n  -----------------------------------*/\n  .controller('TaskFormController', require('./components/tasks/task-form/task-form-controller'))\n\n\n  /*===================================\n    TaskItem component\n  -----------------------------------*/\n  .controller('TaskItemController', require('./components/tasks/task-item/task-item-controller'))\n  .filter('taskStatus', require('./components/tasks/task-item/task-status-filter'))\n\n\n  /*===================================\n    TaskList component\n  -----------------------------------*/\n  .controller('TaskListController', require('./components/tasks/task-list/task-list-controller'))\n\n\n  /*===================================\n    Directives\n  -----------------------------------*/\n  .directive('escape', require('./directives/escape-directive'))\n  .directive('focus', require('./directives/focus-directive'));\n\n\n// Bootstrap\nangular.element(document).ready(function(){\n  angular.bootstrap(document, [app.name], {strictDi: true});\n});\n\n},{\"./components/app/app-controller\":1,\"./components/tasks/task-form/task-form-controller\":2,\"./components/tasks/task-item/task-item-controller\":3,\"./components/tasks/task-item/task-status-filter\":4,\"./components/tasks/task-list/task-list-controller\":5,\"./config/router\":6,\"./config/storage\":7,\"./core/state/state-service\":8,\"./core/task/local-storage-strategy\":9,\"./core/task/server-storage-strategy\":10,\"./core/task/task\":12,\"./core/task/task-service\":11,\"./directives/escape-directive\":13,\"./directives/focus-directive\":14}]},{},[15]);\n"],"sourceRoot":"/source/"}