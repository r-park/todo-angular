<div
  class="task-item"
  ng-class="{'task-item--completed': task.completed, 'task-item--editing': taskItem.editing, 'task-item--status-updated': taskItem.statusUpdated}"
  ng-controller="TaskItemController as taskItem"
  ng-repeat="task in taskList.tasks | taskStatus:app.state.params.filter track by $index"
  tabindex="0">

  <div class="cell">
    <button
      aria-label="Mark task as completed"
      class="task-item__button"
      ng-click="taskItem.toggleCompleted()"
      ng-hide="taskItem.editing"
      type="button">
      <svg class="icon" ng-class="{'icon--active': task.completed}" width="24" height="24" viewBox="0 0 24 24">
        <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"></path>
      </svg>
    </button>
  </div>

  <div class="cell">
    <div
      class="task-item__title"
      ng-hide="taskItem.editing"
      tabindex="0">
      {{ task.title }}
    </div>

    <form name="titleForm" ng-show="taskItem.editing" ng-submit="taskItem.save()" novalidate>
      <input
        autocomplete="off"
        class="task-item__input"
        escape="taskItem.cancelEdit()"
        focus="taskItem.editing"
        maxlength="64"
        name="title"
        ng-blur="taskItem.save()"
        ng-model="taskItem.title"
        required
        type="text">
    </form>
  </div>

  <div class="cell">
    <button
      aria-label="Cancel editing"
      class="task-item__button"
      ng-click="taskItem.cancelEdit()"
      ng-show="taskItem.editing"
      type="button">
      <svg class="icon"  width="24" height="24" viewBox="0 0 24 24">
        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path>
        <path d="M0 0h24v24H0z" fill="none"></path>
      </svg>
    </button>
    <button
      aria-label="Edit task"
      class="task-item__button"
      ng-click="taskItem.edit()"
      ng-hide="taskItem.editing"
      type="button">
      <svg class="icon"  width="24" height="24" viewBox="0 0 24 24">
        <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path>
      </svg>
    </button>
    <button
      aria-label="Delete task"
      class="task-item__button"
      ng-click="taskItem.delete()"
      ng-hide="taskItem.editing"
      type="button">
      <svg class="icon"  width="24" height="24" viewBox="0 0 24 24">
        <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path>
      </svg>
    </button>
  </div>
</div>
